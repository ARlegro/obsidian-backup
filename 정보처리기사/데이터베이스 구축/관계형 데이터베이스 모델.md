
![[Pasted image 20250507182349.png]]
- 빨간 네모가 relations-schema라고 하고 각각을 attribute(속성)라고 한다.
	- **해당 relation이 갖는 모든 속성의 수 : Degree(차수)** ⭐⭐
- 도메인 = 각 속성의 값에 포함될 수 있는 범위 
- 튜플 = 테이블의 행 
	- Cardinality : 튜플의 수 
	- 한 relation에서 튜플들의 개수는 상이하며, 최대로 nxnxnxnxn ~~ 개수가 나올 수 있다.


> [!INFO] Relation의 특징
> - 튜플의 유일성 
> - 튜플의 무순서성
> - 속성의 원자성 
> - 속성의 무순서성 

### 키의 종류와 무결성

> 키란? 각 튜플들을 구분해낼 수 있는 속성 

#### 종류 

1. **슈퍼키** 
	- 식별 가능한 컬럼들의 조합
		- 1개 이상의 컬럼들의 조합이라는 뜻
		- EX. 학번,  학번+비번
2. **후보키** ⭐
	- 슈퍼키 중 불필요한 속성이 없는 최소 집합 
	- 유일성은 만족시키지만 최소성은 만족시키지 못하는 키 
	  
3. **기본키**
	- 슈퍼키 중 하나 


#### 키의 무결성 ⭐⭐

> 데이터의 **일관성과 정확성을 유지**하기 위한 **제약조건의 집합**

1. **개체 무결성 ⭐**
	- ==기본키==의 값은 Null이나 중복을 가질 수 없다는 제약조건 
	  
2. **참조 무결성**
	- 참조할 수 없는 외래키를 가질 수 없다.
	- 이를 위해, 외래키를 변경하려면 이를 참조하고 있는 relation의 기본키도 변경해야한다
	  
3. 도메인 무결성
	- 컬럼의 **값의 형식, 범위, 길이** 등이 정확해야 함



### 데이터베이스 설계 단계 ⭐⭐⭐⭐

**단계별** 
1. **요구 분석**
2. **개념적 설계** 
	- 개념 스키마 모델링 + 트랜잭션 모델링 
	  
3. **논리적 설계**
	- 논리적 스키마 설게 
	- Table 형태의 관계형 DB 만든다
	- 역할
		- 개념 스키마 → 관계형 모델로 변환 (ERD → 테이블)
		- 정규화(중복 제거)
		- 무결성 제약 정의
		- 트랜잭션 모델 반영
		- 스키마 정제 및 평가
	  
4. **물리적 설계** 
	- 실제로 어떻게 저장할지 결정 
	- 레코드 집중의 분석 및 설계


> 이 순서 자주 나온다 ➡ 개논물!

>[!QUESTION] 문제
>Q. 논리적 설계 단계에서 수행하는 작업이 아닌 것은?
>- 레코드 집중의 분석 및 설계
>- 논리적 db 구조로 매핑
>- 트랜잭션 인터페이스 설계
>- 스키마의 평가 및 정제 
>
>✅ 정답 : 1번 - 레코드 집중의 분석 및 설계
>- 이건 저장과 관련된 물리적 설계. 



### 데이터베이스 정규화 

> [!INFO] 정규화란
> - 

#### 목적 
- 데이터 구조 안정화
- 중복 데이터 최소화
- 데이터 변경 시 이상현상 최소화 
- 테이블 불일치 위험 간소화 

#### 정규화 과정 
![[Pasted image 20250507195328.png]]

> 비정규 relation 상태에서 6단계를 걸쳐 DB 테이블을 정제 


**1‍⃣차 정규형** 
- 모든 도메인이 **원자값으로만** 되어 있는 relation이다.
- 원자값 : 하나의 항목에 하나의 값만 입력 

**2‍⃣차 정규형** 
- 1정규형 + **부분 함수적 종속을 제거** 
- 기본키가 아닌 속성 모두가 기본키에 완전 함수 종속이 되도록 부분 함수적 종속 속성을 별도의 테이블로 분리
	![[Pasted image 20250507195817.png]]

**3‍⃣차 정규형** 
- 1,2차 정규형 + 이행적 함수 종속을 제거 
	- 이행적 함수 종속 : A ➡ B, B➡C, A ➡ C
	- 이럴 경우 걍 테이블을 A,B,C 한 곳에 넣지 않고 나누기

> [!INFO] 강한 3차 정규형 -  BCNF(보이스/코드) 정규형  ⭐
> - 1,2,3차 정규형 만족
> - 결정자가 후보키가 아닌 함수 종속을 제거
> - **이렇게 되면, 모든 후보키가 결정자가 된다.**

**4‍⃣차 정규형 
- 1,2,3, BCNF 정규형 만족  + 다가 종속을 제거 

**5‍⃣차 정규형** 
- 조인 종속을 제거 

>[!QUESTION] 기출
>![[Pasted image 20250507200457.png]]


### 반정규화 

> [!INFO] 개념
> 정규화를 하다보면 테이블을 많이 쪼개서 JOIN이 많이 일어난다
> 이는 성능저하가 가능 
> 따라서, 이러한 성능 저하를 막기 위해 테이블을 붙여주는 작업을 '반정규화'라고 한다.

기법으로는....
- 테이블/컬럼/관계 반정규화
- 테이블 병합/분할/추가
- 중복/집계/진행/부분 테이블 추가 

> [!WARNING] 반정규화 VS 역정규화 
> 	역정규화 : 단순하게 정규화된 것을 합치는 것 
> 	반정규화 : 역정규화의 역할 + 알파  ➡ 성능을 위해 더 더 더 






### 테이블 분할(파티셔닝)
> 테이블을 여러 부분으로 분할하는 것 

하는 이유 : 트랜잭션이 한 곳으로 몰리는 것을 방지하기 위해 


### 클러스팅 

> 두 대 이상의 서버를 하나의 서버처럼 운영하는 기술

목적 ➡ 서버 이중화 및 공유 스토리지를 사용하여 ==서버의 가용성==을 높임 
종류
- 병렬 처리 클러스터링
- 고가용성 클러스터링 

> 성능을 위해 자료를 묶어 놓는 것??













